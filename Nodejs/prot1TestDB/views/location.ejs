<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Location Information</title>
    <script>
        function drawCongetion(cong) {
            var canvas = document.getElementById("myCanvas1"); // canvas에 혼잡도 표시
            var ctx = canvas.getContext("2d");
            
            congetion = parseInt(cong)
            if(congetion == 0 || congetion == 3) { // 혼잡도가 '없음' or '여유'인 경우
                ctx.clearRect(130, 0, 40, 40);
                ctx.clearRect(65, 0, 40, 40);
                ctx.beginPath();
                ctx.fillStyle = "green";
                ctx.arc(20, 20, 20, 0, Math.PI * 2, true);
                ctx.fill(); // 초록색 동그라미
            }
            else if(congetion == 4) { // 혼잡도가 '보통'인 경우
                ctx.clearRect(0, 0, 40, 40);
                ctx.clearRect(130, 0, 40, 40);
                ctx.beginPath();
                ctx.fillStyle = "yellow";
                ctx.arc(85, 20, 20, 0, Math.PI * 2, true);
                ctx.fill(); // 노란색 동그라미
            }
            else { // 혼잡도가 '혼잡' or '매우 혼잡'인 경우
                ctx.clearRect(40, 0, 40, 40);
                ctx.clearRect(65, 0, 40, 40);
                ctx.beginPath();
                ctx.fillStyle = "red";
                ctx.arc(150, 20, 20, 0, Math.PI * 2, true);
                ctx.fill(); // 빨간색 동그라미
            }
        } 
    </script>
<body onload="drawCongetion('<%= congetion %>')">
    <div class="main-contender">
        <!--<h3><%= title %></h3><hr>-->
        <!-- 특정 버스 조회-->
        <h4>버스 ID <%= number %> 의 위치 정보는 아래와 같습니다.</h4> 
        <p>버스 ID : <%= id %></p>
        <p>차량번호 : <%= veh_num %></p>
        <p>혼잡도 : <%= congetion %></p>
        <p>X 좌표 : <%= posX %></p>
        <p>Y 좌표 : <%= posY %></p>
    </div>
    <!-- 혼잡도 표시(그림) -->
    <canvas id="myCanvas1" width="200" height="50"></canvas>
</body>
</html>